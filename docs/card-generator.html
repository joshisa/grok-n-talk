<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grok-N-Talk Card Generator</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #1a1a1a;
            color: #e8eef5;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #B3D0F5;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #9fb3c8;
            margin-bottom: 30px;
        }

        .generator-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 1024px) {
            .generator-layout {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: #121823;
            border: 1px solid #223041;
            border-radius: 12px;
            padding: 20px;
        }

        .panel h2 {
            margin-top: 0;
            color: #B3D0F5;
            font-size: 20px;
            border-bottom: 2px solid #223041;
            padding-bottom: 10px;
        }

        .form-section {
            margin-bottom: 25px;
        }

        .form-section h3 {
            color: #FFC294;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #9fb3c8;
            font-size: 14px;
        }

        input[type="text"],
        input[type="url"],
        input[type="color"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 8px 12px;
            background: #0b0f14;
            border: 1px solid #223041;
            border-radius: 6px;
            color: #e8eef5;
            font-size: 14px;
            font-family: inherit;
        }

        input[type="text"]:focus,
        input[type="url"]:focus,
        input[type="color"]:focus,
        input[type="number"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #3ba0ff;
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        input[type="checkbox"] {
            margin-right: 8px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .checkbox-group label {
            margin-bottom: 0;
            cursor: pointer;
        }

        button {
            background: #3ba0ff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }

        button:hover {
            background: #2e8fd9;
        }

        button:active {
            transform: scale(0.98);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .button-secondary {
            background: #223041;
        }

        .button-secondary:hover {
            background: #2d3d52;
        }

        /* Preview Panel Styles */
        .preview-container {
            perspective: 1500px;
            min-height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card {
            text-align: left;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            cursor: pointer;
            font-family: Arial, Sans-Serif;
            width: 400px;
            height: 600px;
            color: white;
            margin: 0 auto;
        }

        .card.flip {
            transform: rotateY(180deg);
        }

        .card .face {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            backface-visibility: hidden;
            transform: translateZ(0.1px);
            border-radius: 10px;
        }

        .card .front {
            background-color: #101010;
            color: #ffffff;
            background-size: 100%;
            background-position: 50% 50%;
            background-repeat: no-repeat;
        }

        .card .back {
            transform: rotateY(180deg);
            font-size: 16px;
            line-height: 1.3em;
            background: #003566;
            color: #FFFFFF;
            padding: 5px;
            overflow-y: auto;
        }

        .card .front .logo {
            width: 200px;
            padding: 10px;
        }

        .card h2 {
            text-transform: uppercase;
            font-size: 48px;
            position: absolute;
            bottom: 70px;
            margin: 0;
            line-height: 0.75em;
            padding: 10px;
        }

        .card h2 small {
            font-size: 28px;
        }

        .card .back img {
            width: 100%;
            max-width: 100%;
            height: auto;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }

        .card .back .description {
            padding: 10px;
            padding-bottom: 60px; /* Make room for toggle buttons */
        }

        /* Toggle buttons at bottom of card */
        .card .back .toggle-buttons {
            position: absolute;
            bottom: 15px;
            left: 5px;
            display: flex;
            gap: 5px;
            z-index: 10;
        }

        .card .back .toggle {
            height: 40px;
            width: 40px;
            cursor: pointer;
            transition: transform 0.2s;
            border-radius: 4px;
        }

        .card .back .toggle:hover {
            transform: scale(1.1);
        }

        /* Output Panel */
        .output-panel {
            background: #121823;
            border: 1px solid #223041;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .output-panel h2 {
            color: #B3D0F5;
            margin-top: 0;
        }

        #htmlOutput {
            width: 100%;
            min-height: 300px;
            background: #0b0f14;
            border: 1px solid #223041;
            border-radius: 6px;
            color: #e8eef5;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            padding: 15px;
            white-space: pre;
            overflow-x: auto;
        }

        .success-message {
            background: #2ecc71;
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            margin-top: 10px;
            display: none;
        }

        .flip-hint {
            text-align: center;
            color: #9fb3c8;
            font-size: 14px;
            margin-top: 10px;
        }

        .color-input-group {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            align-items: end;
        }

        input[type="color"] {
            width: 60px;
            height: 38px;
            padding: 2px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé¥ Grok-N-Talk Card Generator</h1>
        <p class="subtitle">Create custom flip cards for your Grok-N-Talk collection</p>

        <div class="generator-layout">
            <!-- Configuration Panel -->
            <div class="panel">
                <h2>‚öôÔ∏è Card Configuration</h2>
                
                <!-- Basic Settings -->
                <div class="form-section">
                    <h3>Basic Settings</h3>
                    <div class="form-group">
                        <label for="cardClass">Card CSS Class Name</label>
                        <input type="text" id="cardClass" placeholder="e.g., turbo, instana, custom-card" value="custom-card">
                    </div>
                </div>

                <!-- Front Face -->
                <div class="form-section">
                    <h3>Front Face</h3>
                    <div class="form-group">
                        <label for="logoUrl">Logo Image URL</label>
                        <input type="url" id="logoUrl" placeholder="images/logo.png" value="images/grok-n-talk-logo.png">
                    </div>
                    <div class="form-group">
                        <label for="subtitle">Subtitle (optional)</label>
                        <input type="text" id="subtitle" placeholder="e.g., IBM" value="IBM">
                    </div>
                    <div class="form-group">
                        <label for="title">Main Title</label>
                        <input type="text" id="title" placeholder="e.g., Product Name" value="Custom Product">
                    </div>
                    <div class="form-group">
                        <label for="frontBgImage">Background Image URL (optional)</label>
                        <input type="url" id="frontBgImage" placeholder="images/product-front.png">
                    </div>
                    <div class="form-group">
                        <label for="frontBgColor">Background Color</label>
                        <div class="color-input-group">
                            <input type="text" id="frontBgColor" value="#101010">
                            <input type="color" id="frontBgColorPicker" value="#101010">
                        </div>
                    </div>
                </div>

                <!-- Back Face -->
                <div class="form-section">
                    <h3>Back Face</h3>
                    <div class="form-group">
                        <label for="bannerUrl">Banner Image URL</label>
                        <input type="url" id="bannerUrl" placeholder="images/banner.png" value="images/grok-n-talk-banner.png">
                    </div>
                    <div class="form-group">
                        <label for="bannerAlt">Banner Alt Text</label>
                        <input type="text" id="bannerAlt" placeholder="Product Name" value="Custom Product">
                    </div>
                    <div class="form-group">
                        <label for="description">Description Content</label>
                        <textarea id="description" placeholder="Enter the main description content...">
<ul>
    <li>Key feature or benefit 1</li>
    <li>Key feature or benefit 2</li>
    <li>Key feature or benefit 3</li>
</ul></textarea>
                    </div>
                    <div class="form-group">
                        <label for="backBgColor">Background Color</label>
                        <div class="color-input-group">
                            <input type="text" id="backBgColor" value="#003566">
                            <input type="color" id="backBgColorPicker" value="#003566">
                        </div>
                    </div>
                </div>

                <!-- Toggle Buttons -->
                <div class="form-section">
                    <h3>Toggle Buttons (Bottom Icons)</h3>
                    <p style="font-size: 12px; color: #9fb3c8; margin-top: 0;">Add clickable icons at the bottom of the card back. Leave URL empty to exclude a button.</p>
                    
                    <div class="form-group">
                        <label for="toggleSummary">Summary/ELI5 Icon URL</label>
                        <input type="url" id="toggleSummary" placeholder="images/list-eli5.png" value="images/list-eli5.png">
                    </div>
                    <div class="form-group">
                        <label for="toggleCompete">Competitors Icon URL</label>
                        <input type="url" id="toggleCompete" placeholder="images/list-compete.png" value="images/list-compete.png">
                    </div>
                    <div class="form-group">
                        <label for="toggleXsell">Cross-Sell Icon URL</label>
                        <input type="url" id="toggleXsell" placeholder="images/list-cross-sell.png" value="images/list-cross-sell.png">
                    </div>
                    <div class="form-group">
                        <label for="toggleUpsell">Upsell Icon URL</label>
                        <input type="url" id="toggleUpsell" placeholder="images/list-upsell.png" value="images/list-upsell.png">
                    </div>
                    <div class="form-group">
                        <label for="toggleStory">Stories Icon URL</label>
                        <input type="url" id="toggleStory" placeholder="images/list-story.png" value="images/list-story.png">
                    </div>
                    <div class="form-group">
                        <label for="toggleLove">Customer Love Icon URL</label>
                        <input type="url" id="toggleLove" placeholder="images/list-love.png" value="images/list-love.png">
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="button-group">
                    <button onclick="generateHTML()">üî® Generate HTML</button>
                    <button class="button-secondary" onclick="resetForm()">üîÑ Reset</button>
                </div>
            </div>

            <!-- Preview Panel -->
            <div class="panel">
                <h2>üëÅÔ∏è Live Preview</h2>
                <div class="preview-container">
                    <div class="card" id="previewCard" onclick="this.classList.toggle('flip')">
                        <div class="face front" id="previewFront">
                            <img class="logo" id="previewLogo" src="images/grok-n-talk-logo.png" alt="Logo">
                            <h2 id="previewTitle"><small id="previewSubtitle">IBM</small><br/>Custom Product</h2>
                        </div>
                        <div class="face back" id="previewBack">
                            <img id="previewBanner" src="images/grok-n-talk-banner.png" alt="Custom Product">
                            <div class="description" id="previewDescription">
                                <ul>
                                    <li>Key feature or benefit 1</li>
                                    <li>Key feature or benefit 2</li>
                                    <li>Key feature or benefit 3</li>
                                </ul>
                            </div>
                            <div class="toggle-buttons" id="previewToggles">
                                <!-- Toggle buttons will be dynamically added here -->
                            </div>
                        </div>
                    </div>
                </div>
                <p class="flip-hint">üí° Click the card to flip it</p>
            </div>
        </div>

        <!-- Output Panel -->
        <div class="output-panel">
            <h2>üìã Generated HTML</h2>
            <div class="button-group">
                <button onclick="copyToClipboard()">üìÑ Copy to Clipboard</button>
            </div>
            <div id="successMessage" class="success-message">‚úì Copied to clipboard!</div>
            <textarea id="htmlOutput" readonly></textarea>
        </div>
    </div>

    <script>
        // Sync color inputs
        document.getElementById('frontBgColorPicker').addEventListener('input', (e) => {
            document.getElementById('frontBgColor').value = e.target.value;
            updatePreview();
        });

        document.getElementById('frontBgColor').addEventListener('input', (e) => {
            document.getElementById('frontBgColorPicker').value = e.target.value;
            updatePreview();
        });

        document.getElementById('backBgColorPicker').addEventListener('input', (e) => {
            document.getElementById('backBgColor').value = e.target.value;
            updatePreview();
        });

        document.getElementById('backBgColor').addEventListener('input', (e) => {
            document.getElementById('backBgColorPicker').value = e.target.value;
            updatePreview();
        });

        // Update preview on input changes
        const inputs = document.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
            input.addEventListener('input', updatePreview);
        });

        function updatePreview() {
            const cardClass = document.getElementById('cardClass').value.trim();
            const logoUrl = document.getElementById('logoUrl').value.trim();
            const subtitle = document.getElementById('subtitle').value.trim();
            const title = document.getElementById('title').value.trim();
            const frontBgImage = document.getElementById('frontBgImage').value.trim();
            const frontBgColor = document.getElementById('frontBgColor').value.trim();
            const bannerUrl = document.getElementById('bannerUrl').value.trim();
            const bannerAlt = document.getElementById('bannerAlt').value.trim();
            const description = document.getElementById('description').value;
            const backBgColor = document.getElementById('backBgColor').value.trim();
            
            // Get toggle button URLs
            const toggleSummary = document.getElementById('toggleSummary').value.trim();
            const toggleCompete = document.getElementById('toggleCompete').value.trim();
            const toggleXsell = document.getElementById('toggleXsell').value.trim();
            const toggleUpsell = document.getElementById('toggleUpsell').value.trim();
            const toggleStory = document.getElementById('toggleStory').value.trim();
            const toggleLove = document.getElementById('toggleLove').value.trim();

            // Validate URLs
            const isValidUrl = (url) => {
                if (!url) return true; // Empty is valid (optional)
                return url.startsWith('http://') || url.startsWith('https://') ||
                       url.startsWith('/') || url.startsWith('./') || url.startsWith('../') ||
                       !url.includes('://'); // Relative paths
            };

            // Show validation errors
            const validateField = (fieldId, isValid, message) => {
                const field = document.getElementById(fieldId);
                if (!isValid) {
                    field.style.borderColor = '#ff6b6b';
                    field.title = message;
                } else {
                    field.style.borderColor = '#223041';
                    field.title = '';
                }
            };

            validateField('logoUrl', isValidUrl(logoUrl), 'Please enter a valid URL or path');
            validateField('frontBgImage', isValidUrl(frontBgImage), 'Please enter a valid URL or path');
            validateField('bannerUrl', isValidUrl(bannerUrl), 'Please enter a valid URL or path');
            validateField('title', title.length > 0, 'Title is required');

            // Update preview card
            const previewCard = document.getElementById('previewCard');
            const previewFront = document.getElementById('previewFront');
            const previewBack = document.getElementById('previewBack');
            const previewLogo = document.getElementById('previewLogo');
            const previewSubtitle = document.getElementById('previewSubtitle');
            const previewTitle = document.getElementById('previewTitle');
            const previewBanner = document.getElementById('previewBanner');
            const previewDescription = document.getElementById('previewDescription');

            // Update front face
            previewLogo.src = logoUrl || 'images/grok-n-talk-logo.png';
            previewSubtitle.textContent = subtitle;
            previewSubtitle.style.display = subtitle ? 'inline' : 'none';
            
            const titleHtml = subtitle ? `<small id="previewSubtitle">${subtitle}</small><br/>${title}` : title;
            previewTitle.innerHTML = titleHtml;

            previewFront.style.backgroundColor = frontBgColor;
            if (frontBgImage) {
                previewFront.style.backgroundImage = `url(${frontBgImage})`;
            } else {
                previewFront.style.backgroundImage = 'none';
            }

            // Update back face
            previewBanner.src = bannerUrl || 'images/grok-n-talk-banner.png';
            previewBanner.alt = bannerAlt;
            previewDescription.innerHTML = description;
            previewBack.style.backgroundColor = backBgColor;

            // Update toggle buttons in preview
            const previewToggles = document.getElementById('previewToggles');
            previewToggles.innerHTML = '';
            
            const toggles = [
                { url: toggleSummary, alt: 'Summary', title: 'Show Summary' },
                { url: toggleCompete, alt: 'Competitors', title: 'Show Competitors' },
                { url: toggleXsell, alt: 'Cross-Sell', title: 'Show Cross-Sell' },
                { url: toggleUpsell, alt: 'Upsell', title: 'Show Upsell' },
                { url: toggleStory, alt: 'Stories', title: 'Show Stories' },
                { url: toggleLove, alt: 'Customer Love', title: 'Show Customer Love' }
            ];

            toggles.forEach(toggle => {
                if (toggle.url) {
                    const img = document.createElement('img');
                    img.src = toggle.url;
                    img.alt = toggle.alt;
                    img.title = toggle.title;
                    img.className = 'toggle';
                    previewToggles.appendChild(img);
                }
            });
        }

        function generateHTML() {
            // Validate required fields
            const title = document.getElementById('title').value.trim();
            if (!title) {
                alert('‚ö†Ô∏è Title is required!');
                document.getElementById('title').focus();
                return;
            }

            const cardClass = document.getElementById('cardClass').value.trim() || 'custom-card';
            const logoUrl = document.getElementById('logoUrl').value.trim() || 'images/grok-n-talk-logo.png';
            const subtitle = document.getElementById('subtitle').value.trim();
            const frontBgImage = document.getElementById('frontBgImage').value.trim();
            const frontBgColor = document.getElementById('frontBgColor').value.trim() || '#101010';
            const bannerUrl = document.getElementById('bannerUrl').value.trim() || 'images/grok-n-talk-banner.png';
            const bannerAlt = document.getElementById('bannerAlt').value.trim() || 'Product';
            const description = document.getElementById('description').value;
            const backBgColor = document.getElementById('backBgColor').value.trim() || '#003566';
            
            // Get toggle button URLs
            const toggleSummary = document.getElementById('toggleSummary').value.trim();
            const toggleCompete = document.getElementById('toggleCompete').value.trim();
            const toggleXsell = document.getElementById('toggleXsell').value.trim();
            const toggleUpsell = document.getElementById('toggleUpsell').value.trim();
            const toggleStory = document.getElementById('toggleStory').value.trim();
            const toggleLove = document.getElementById('toggleLove').value.trim();

            // Validate CSS class name
            if (!/^[a-zA-Z][\w-]*$/.test(cardClass)) {
                alert('‚ö†Ô∏è Card class name must start with a letter and contain only letters, numbers, hyphens, and underscores.');
                document.getElementById('cardClass').focus();
                return;
            }

            // Generate title HTML
            const titleHtml = subtitle 
                ? `<h2><small>${subtitle}</small><br/>${title}</h2>`
                : `<h2>${title}</h2>`;

            // Generate style attribute for front face
            let frontStyle = `background-color: ${frontBgColor};`;
            if (frontBgImage) {
                frontStyle += ` background-image: url(${frontBgImage}); background-size: 100%; background-position: 50% 50%; background-repeat: no-repeat;`;
            }

            // Generate toggle buttons HTML
            let toggleButtonsHtml = '';
            const toggles = [
                { url: toggleSummary, id: 'summary', alt: 'Show Summary', title: 'Show Summary' },
                { url: toggleCompete, id: 'compete', alt: 'Show Competitors', title: 'Show Competitors' },
                { url: toggleXsell, id: 'x-sell', alt: 'Show X-Sell', title: 'Show Cross-Sell' },
                { url: toggleUpsell, id: 'upsell', alt: 'Show Upsell', title: 'Show Upsell' },
                { url: toggleStory, id: 'story', alt: 'Show Stories', title: 'Show Stories' },
                { url: toggleLove, id: 'love', alt: 'Show Love', title: 'Show Customer Love' }
            ];

            const activeToggles = toggles.filter(t => t.url);
            
            if (activeToggles.length > 0) {
                toggleButtonsHtml = '\n        <!-- Toggle Buttons -->';
                activeToggles.forEach((toggle, index) => {
                    const leftPosition = 5 + (index * 50);
                    toggleButtonsHtml += `\n        <div class="${toggle.id}-toggle" id="${toggle.id}" style="position: absolute; bottom: 15px; left: ${leftPosition}px;">
            <a href="#"><img class="toggle" src="${toggle.url}" alt="${toggle.alt}" title="${toggle.title}" /></a>
        </div>`;
                });
            }

            // Generate HTML
            const html = `<!-- ${cardClass} Card -->
<div class="card ${cardClass}">
    <div class="face front" style="${frontStyle}">
        <img class="logo" src="${logoUrl}" alt="Logo" />
        ${titleHtml}
    </div>
    <div class="face back" style="background-color: ${backBgColor};">
        <img src="${bannerUrl}" alt="${bannerAlt}" style="height:10%" />
        <div class="description">
${description}
        </div>${toggleButtonsHtml}
    </div>
</div>`;

            document.getElementById('htmlOutput').value = html;
        }

        function copyToClipboard() {
            const output = document.getElementById('htmlOutput');
            
            if (!output.value) {
                alert('‚ö†Ô∏è Please generate HTML first!');
                return;
            }

            output.select();
            
            // Try modern clipboard API first, fallback to execCommand
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(output.value).then(() => {
                    showSuccessMessage();
                }).catch(() => {
                    // Fallback to execCommand
                    document.execCommand('copy');
                    showSuccessMessage();
                });
            } else {
                document.execCommand('copy');
                showSuccessMessage();
            }
        }

        function showSuccessMessage() {
            const successMsg = document.getElementById('successMessage');
            successMsg.style.display = 'block';
            setTimeout(() => {
                successMsg.style.display = 'none';
            }, 3000);
        }

        function resetForm() {
            document.getElementById('cardClass').value = 'custom-card';
            document.getElementById('logoUrl').value = 'images/grok-n-talk-logo.png';
            document.getElementById('subtitle').value = 'IBM';
            document.getElementById('title').value = 'Custom Product';
            document.getElementById('frontBgImage').value = '';
            document.getElementById('frontBgColor').value = '#101010';
            document.getElementById('frontBgColorPicker').value = '#101010';
            document.getElementById('bannerUrl').value = 'images/grok-n-talk-banner.png';
            document.getElementById('bannerAlt').value = 'Custom Product';
            document.getElementById('description').value = `<ul>
    <li>Key feature or benefit 1</li>
    <li>Key feature or benefit 2</li>
    <li>Key feature or benefit 3</li>
</ul>`;
            document.getElementById('backBgColor').value = '#003566';
            document.getElementById('backBgColorPicker').value = '#003566';
            document.getElementById('toggleSummary').value = 'images/list-eli5.png';
            document.getElementById('toggleCompete').value = 'images/list-compete.png';
            document.getElementById('toggleXsell').value = 'images/list-cross-sell.png';
            document.getElementById('toggleUpsell').value = 'images/list-upsell.png';
            document.getElementById('toggleStory').value = 'images/list-story.png';
            document.getElementById('toggleLove').value = 'images/list-love.png';
            document.getElementById('htmlOutput').value = '';
            updatePreview();
        }

        // Initialize preview on page load
        updatePreview();
    </script>
</body>
</html>